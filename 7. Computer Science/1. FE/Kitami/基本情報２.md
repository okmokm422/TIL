# 基本情報処理技術者試験対策　ｎ進数②

## ２進数の足し算と引き算

### 負の数のあらわし方  

- 先頭の1ビットを符号にする
- 2の補数を使う  

### 補数とは  

- 2進数の場合…
    - 1の補数  
    
        その桁数での最大値を得るために補う数
    
    - 2の補数  

        次の桁に繰り上がるために補う数

## シフト演算と、２進数のかけ算わり算

### シフト演算  
- シフト演算        

    ２進数を表すビット列を左か右にずらす操作  

- 論理シフト  

    符号を考慮せずに行うシフト操作

  - 左論理シフト  
      - ビット列全体を左にずらして、空になった右のスペースは**0**で埋める。 
      - シフト後の数（$n$ビットシフトの場合）  
          元の数を$2^n$したもの

  - 右論理シフト  
      - ビット列全体を右にずらして、空になった左のスペースは**0**で埋める。
      - シフト後の数（$n$ビットシフトの場合）  
          元の数を$1/2^n$したもの

- 算術シフト  

  符号を考慮して行うシフト演算

  - 左算術シフト  

      - 符号ビット以外を左にシフトし、空いた右のビットは**0**で埋める。  
      - シフト後の数（$n$ビットシフトの場合）  
        元の数値を$2^n$した数になる。
  
  - 右算術シフト  

      - 符号ビット以外を右にシフトし、空いた左のビットは**符号ビット**で埋める。  
      - シフト後の数（$n$ビットシフトの場合）  
        元の数値を$1/2^n$した数になる。  


### 2進数のかけ算とわり算  

- かけ算  

  - $2^n$同士の足し算に置き換えて計算をする  
  - 例  
    $x \times 7 = x \times (4 + 2 + 1) = x \times (2^2 + 2^1 + 2^0) = x \times 2^2 + x \times 2^1 + x \times 2^0$
    →　

- わり算  

  - $2^n$の引き算を用いて計算をする  
    何ビットシフトして引いたか？

  - 例  

      $15 \div 3$　2進数→　$1111 \div 11$   
      元の数字を超えない範囲で11を左シフトしたものを引く 

      ① $1111 - 1100 = 11$  
          2ビットシフト：$2^2$  

      ② $11 - 11 = 0$   
          0ビットシフト：$2^0$  

      - 引いた数  
          $2^2 + 2^0 = 5$回  

## 小数点を含む数のあらわし方

### 固定小数点  
- $整数部 . 小数部$
- ビット列のどの位置に小数点があるかをあらかじめ決めておく  
- 処理は早いが桁数が固定される
### 浮動小数点  
- $符号~仮数 ~ \times ~ 基数^{指数}$
  - ２進数の場合　：　$\pm ~ 仮数 ~ \times ~ 2^{指数}$  
- 正規化  
  有効な桁数が多く取れるように、小数点の位置を調整すること  
- よく使われる浮動小数点形式  
  - 32ビット形式  
    - $S(1ビット) ~ E(7ビット) ~ .(小数点) ~ M(24ビット)$  
        S：仮数部の符号(０：正、１：負)  
        E：指数部（２を基数とし、負の数は２の補数で表現）  
        M：仮数部（２進数　絶対値表示）
    - 例：0.375を32ビット形式で  
        - ２進数にすると  
            $0.011$
        - 0.Mの形式にすると  
            $0.11 \times 2^{-1}$　
        - 指数部(7ビット)を２進数に変換  
            $1111111$ ※1の2の補数  
        - S,E,Mにはめ込み  
            S：0  
            E：1111111  
            M：110000000000000000000000  
  - IEEE754形式  
    - $S(1ビット) ~ E(8ビット) ~ .(小数点) ~ M(23ビット)$  
        S：仮数部の符号(０：正、１：負)  
        E：指数部（２を基数として+127する　**バイアス127**）  
        M：仮数部（仮数-1の２新小数で表す　**1.XXXの小数部**）  
    - 例：0.375を32ビット形式で  
        - ２進数にすると  
            $0.011$
        - 0.Mの形式にすると  
            $1.1~\times~$ $2^{-2}$　
        - 指数部(8ビット)をバイアス表現  
            $-2 + 127 = 125$  
            $125を2進数表現　→　0111101$
        - S,E,Mにはめ込み  
            S：0  
            E：0111101  
            M：10000000000000000000000

## 誤差
### 誤差  
- 実際の数値とコンピュータ内部で表現できる数値との間に生じたずれ  
    例：無限小数

### けたあふれ誤差
- コンピュータの扱える最大値や最小値を超えることによって生じる誤差
  - アンダーフロー  
      最小値を超える
  - オーバーフロー  
      最大値を超える

### 情報落ち

- 絶対値の大きな値と絶対値の小さな値の加減算を行ったときに、  
絶対値の小さな値が計算結果に反映されないことによって生じる誤差

### 打切り誤差

- 　計算処理を完了まで待たずに途中で打ち切ることによって生じる誤差

### けた落ち

- 絶対値がほぼ等しい数値同士の差を求めたときに、有効な桁数が大きく減ることによって生じる誤差

### 丸め誤差

- 表現できる桁数を超えてしまったために最小桁により小さい部分について、  
四捨五入や切り上げ、切り捨てなどを行うことによって生じる誤差

