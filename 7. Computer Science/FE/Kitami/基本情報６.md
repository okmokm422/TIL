# メモリ

## メモリの分類

### メモリ
- メモリとは  
    コンピューターの動作に必要なデータを記憶する装置

#### RAM 

- RAM（Random Access Memory）  
    読み書き可で揮発性  

  - DRAM（Dynamic RAM）  
    - 安価、大容量、低速  

    - 主記憶装置に用いられる  
    
    - コンデンサ回路なので、内容を再読み込みするリフレッシュ動作が必要  

    - SDRAM（Synchronous DRAM）  
      DRAMの一種  
      メモリのパスが一定周期のクロック周波数に同期して動作   

  - SRAM（Static RAM）  
    - 高価、小容量、高速

    - キャッシュメモリとして使われる
    
    - フリップフロップ回路なので、内容を再読み込みするリフレッシュ動作が必要  

#### ROM

- ROM（Read Only Memory）  
    読み出し専用で不揮発性   
    コンピューターの電源投入に最初に実行されるプログラムを格納
  
  - マスクROM  
    読み出し専用のメモリ

  - PROM（Programaable ROM）  
    プログラマブル（書き換え可能）なROM

    - EPROM（Erasable PROM）  
        紫外線でデータを消去して書き換え可能

    - EEPROM（Electically EPROM）  
        電気的にデータを消去して書き換え可能
    
    - フラッシュメモリ  
        EEPROMの一種で、ブロック単位でデータを消去して書き換え可能

## 主記憶装置と高速化手法

- CPUのレジスタ > メモリ > 磁気ディスク装置（ハードディスク等）の順にアクセス速度が早い

- キャッシュを使い、装置間の速度ギャップを緩和させる

### キャッシュメモリ

- キャッシュメモリ  

  - メモリとCPUの間に置かれる、より高速に読み書きできるメモリ

  - データ読み込みの流れ  
    主記憶装置　→　CPU・キャッシュメモリ（同じデータが読み込まれる）
  
  - キャッシュメモリの種類  
    - CPU内部  
      １次キャッシュ・容量小・高速
    - SRAM 　
      ２次キャッシュ・容量大・高速

- ディスクキャッシュ  

  - キャッシュメモリと同じ役割  

#### 記憶階層

- 記憶装置の階層  
  
  磁気ディスク装置（ハードディスク等）→ディスクキャッシュ→主記憶装置→キャッシュメモリ→レジスタ


#### 主記憶装置への書き込み方式

- ライトスルー方式  
  キャッシュメモリへの書き込みを行うときに主記憶装置へも同時に書き込みを行う  
  →　高速化はできないが常にデータが一致

- ライトバック方式  
  普段はキャッシュメモリにしか書き込みをしない  
  キャッシュメモリから追い出されるデータが発生したときに主記憶装置へと書き戻す  
  →　高速だが制御が必要

#### ヒット率と実効アクセス時間

- ヒット率  
  目的とするデータがキャッシュメモリに入っている確率

- １−ヒット率  
  キャッシュメモリになくて、主記憶装置を読みに行く確率

- 実効アクセス時間  
  ①　キャッシュメモリのアクセス時間　×　ヒット率  
  ②　主記憶装置のアクセス時間　×　（１−ヒット率）  
  →　①　＋　②

#### メモリインターブ

- 主記憶装置の中を複数の区画（バンク）に分割する
- 複数の連続したバンクに横断したデータを同時に取ってこれるので、高速に読み込める